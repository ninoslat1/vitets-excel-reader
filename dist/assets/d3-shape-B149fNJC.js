import{p as E}from"./d3-path-BIbZRaIn.js";function s(n){return function(){return n}}function S(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function N(n){this._context=n}N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,u){switch(n=+n,u=+u,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,u):this._context.moveTo(n,u);break;case 1:this._point=2;default:this._context.lineTo(n,u);break}}};function z(n){return new N(n)}function T(n){return n[0]}function L(n){return n[1]}function X(n,u){var f=s(!0),l=null,c=z,r=null;n=typeof n=="function"?n:n===void 0?T:s(n),u=typeof u=="function"?u:u===void 0?L:s(u);function o(e){var i,h=(e=S(e)).length,t,a=!1,g;for(l==null&&(r=c(g=E())),i=0;i<=h;++i)!(i<h&&f(t=e[i],i,e))===a&&((a=!a)?r.lineStart():r.lineEnd()),a&&r.point(+n(t,i,e),+u(t,i,e));if(g)return r=null,g+""||null}return o.x=function(e){return arguments.length?(n=typeof e=="function"?e:s(+e),o):n},o.y=function(e){return arguments.length?(u=typeof e=="function"?e:s(+e),o):u},o.defined=function(e){return arguments.length?(f=typeof e=="function"?e:s(!!e),o):f},o.curve=function(e){return arguments.length?(c=e,l!=null&&(r=c(l)),o):c},o.context=function(e){return arguments.length?(e==null?l=r=null:r=c(l=e),o):l},o}function V(n,u,f){var l=null,c=s(!0),r=null,o=z,e=null;n=typeof n=="function"?n:n===void 0?T:s(+n),u=typeof u=="function"?u:s(u===void 0?0:+u),f=typeof f=="function"?f:f===void 0?L:s(+f);function i(t){var a,g,p,d=(t=S(t)).length,m,v=!1,k,y=new Array(d),A=new Array(d);for(r==null&&(e=o(k=E())),a=0;a<=d;++a){if(!(a<d&&c(m=t[a],a,t))===v)if(v=!v)g=a,e.areaStart(),e.lineStart();else{for(e.lineEnd(),e.lineStart(),p=a-1;p>=g;--p)e.point(y[p],A[p]);e.lineEnd(),e.areaEnd()}v&&(y[a]=+n(m,a,t),A[a]=+u(m,a,t),e.point(l?+l(m,a,t):y[a],f?+f(m,a,t):A[a]))}if(k)return e=null,k+""||null}function h(){return X().defined(c).curve(o).context(r)}return i.x=function(t){return arguments.length?(n=typeof t=="function"?t:s(+t),l=null,i):n},i.x0=function(t){return arguments.length?(n=typeof t=="function"?t:s(+t),i):n},i.x1=function(t){return arguments.length?(l=t==null?null:typeof t=="function"?t:s(+t),i):l},i.y=function(t){return arguments.length?(u=typeof t=="function"?t:s(+t),f=null,i):u},i.y0=function(t){return arguments.length?(u=typeof t=="function"?t:s(+t),i):u},i.y1=function(t){return arguments.length?(f=t==null?null:typeof t=="function"?t:s(+t),i):f},i.lineX0=i.lineY0=function(){return h().x(n).y(u)},i.lineY1=function(){return h().x(n).y(f)},i.lineX1=function(){return h().x(l).y(u)},i.defined=function(t){return arguments.length?(c=typeof t=="function"?t:s(!!t),i):c},i.curve=function(t){return arguments.length?(o=t,r!=null&&(e=o(r)),i):o},i.context=function(t){return arguments.length?(t==null?r=e=null:e=o(r=t),i):r},i}function b(n,u){if((o=n.length)>1)for(var f=1,l,c,r=n[u[0]],o,e=r.length;f<o;++f)for(c=r,r=n[u[f]],l=0;l<e;++l)r[l][1]+=r[l][0]=isNaN(c[l][1])?c[l][0]:c[l][1]}function w(n){for(var u=n.length,f=new Array(u);--u>=0;)f[u]=u;return f}function Y(n,u){return n[u]}function O(n){const u=[];return u.key=n,u}function q(){var n=s([]),u=w,f=b,l=Y;function c(r){var o=Array.from(n.apply(this,arguments),O),e,i=o.length,h=-1,t;for(const a of r)for(e=0,++h;e<i;++e)(o[e][h]=[0,+l(a,o[e].key,h,r)]).data=a;for(e=0,t=S(u(o));e<i;++e)o[t[e]].index=e;return f(o,t),o}return c.keys=function(r){return arguments.length?(n=typeof r=="function"?r:s(Array.from(r)),c):n},c.value=function(r){return arguments.length?(l=typeof r=="function"?r:s(+r),c):l},c.order=function(r){return arguments.length?(u=r==null?w:typeof r=="function"?r:s(Array.from(r)),c):u},c.offset=function(r){return arguments.length?(f=r??b,c):f},c}export{V as a,b,X as l,q as s};
